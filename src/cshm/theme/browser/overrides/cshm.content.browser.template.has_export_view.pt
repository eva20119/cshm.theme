<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
    xmlns:tal="http://xml.zope.org/namespaces/tal"
    xmlns:metal="http://xml.zope.org/namespaces/metal"
    xmlns:i18n="http://xml.zope.org/namespaces/i18n"
    xmlns:v-bind="http://www.vue.org/v-bind"
    xmlns:v-on="http://www.vue.org/v-bind"
    lang="en"
    metal:use-macro="context/main_template/macros/master"
    i18n:domain="cshm.content">
<body>

<metal:javascriptslot fill-slot="javascript_head_slot">
</metal:javascriptslot>

<metal:content-core fill-slot="content-core">
<metal:content-core define-macro="content-core"
                    tal:define="toc context/table_of_contents|nothing;">
<style>
.deepblue{
    background: #307bb3;
    color: white;
}
td{
    text-align: center;
    vertical-align: middle !important;
}
table{
    margin-bottom: 20px;
}
.header{
    font-size: 20px;
    background: #3d84a8;
    color: white;
}
</style>

<tal:rep repeat="course view/data">
  <table  tal:condition="python: view.data[course][0]">
    <tr class='deepblue'>
      <td colspan='6' style='font-size: 22px'>${course}</td>
    </tr>
    <tr class='header'>
      <td>姓名</td>
      <td>手機</td>
      <td>市話</td>
      <td>信箱</td>
      <td>公司名稱</td>
      <td>轉備取</td>
    </tr>
    <tr tal:repeat="user python: view.data[course][0]" >
      <td>${python: user[1]}</td>
      <td>${python: user[0]}</td>
      <td>${python: user[4]}</td>
      <td>${python: user[3]}</td>
      <td>${python: user[2]}</td>
      <td>
        <form action='has_export_view' method='post'>
          <select name='period'>
            <option tal:repeat="period python: view.data[course][1]" value="${python: period[0]}" >
              ${python: period[1]}
            </option>
          </select>
          <input type='hidden' name='user_id' value='${python: user[5]}'>
          <input type='submit'>
        </form>
      </td>
    </tr>
  </table>
</tal:rep>

</metal:content-core>
</metal:content-core>

</body>
</html>
